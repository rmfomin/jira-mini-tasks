# Smart Tasks ‚Äî Tampermonkey Script for JIRA Dashboard

## üìò –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**Smart Tasks** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π Tampermonkey‚Äë—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤–Ω–µ–¥—Ä—è–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π To‚ÄëDo‚Äë–ª–∏—Å—Ç –ø—Ä—è–º–æ –≤ –≤–∏–¥–∂–µ—Ç –¥–∞—à–±–æ—Ä–¥–∞ JIRA, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä–∏–≤—è–∑–∫—É –∑–∞–¥–∞—á –∫ Jira‚Äëissues –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã Jira REST API.

–°–∫—Ä–∏–ø—Ç:

- –ù–∞—Ö–æ–¥–∏—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≥–∞–¥–∂–µ—Ç–∞ `gadget-20269-chrome` –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –ø–æ—Å–ª–µ –µ–≥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è.
- –ó–∞–º–µ–Ω—è–µ—Ç –µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π UI.
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, —É–¥–∞–ª—è—Ç—å, –º–µ–Ω—è—Ç—å –ø–æ—Ä—è–¥–æ–∫ –∏ –æ—Ç–º–µ—á–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á.
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—É—é –ø—Ä–∏–≤—è–∑–∫—É –∑–∞–¥–∞—á–∏ –∫ Jira‚Äë—Å—Å—ã–ª–∫–µ (URL –∏–ª–∏ Markdown `[–¢–µ–∫—Å—Ç](https://...)`) —Å –æ–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã–º –ø—Ä–µ–≤—å—é.
- –°–æ–¥–µ—Ä–∂–∏—Ç –ø–∞–Ω–µ–ª—å —Å –ø—Ä–∏–º–µ—Ä–Ω—ã–º–∏ –≤—ã–∑–æ–≤–∞–º–∏ Jira REST API (–ø–æ –∫–Ω–æ–ø–∫–∞–º) ‚Äî –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É To‚ÄëDo.
- –•—Ä–∞–Ω–∏—Ç –∑–∞–¥–∞—á–∏ –≤ Tampermonkey‚Äë—Ö—Ä–∞–Ω–∏–ª–∏—â–µ (`GM_getValue` / `GM_setValue`), –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã—Ö –∫ —Ç–µ–∫—É—â–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

---

## ‚öôÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞

–°–∫—Ä–∏–ø—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ **–º–æ–¥—É–ª—å–Ω–æ–µ ESM-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –ª–æ–≥–∏–∫–∏ –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º.

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

1. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏**

   - `common/` ‚Äî –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –ª–æ–≥–∏–∫–∞ (API, —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, —É—Ç–∏–ª–∏—Ç—ã).
   - `pages/dashboard/` ‚Äî —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è dashboard (`/secure/*`).
   - `pages/browse/` ‚Äî —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∑–∞–¥–∞—á–∏ (`/browse/*`).

2. **–û–±—â–∏–µ –º–æ–¥—É–ª–∏ (common)**

   **–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã** (`common/constants.js`):

   - –í—Å–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã, —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã.
   - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç –Ω–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è.

   **–£—Ç–∏–ª–∏—Ç—ã** (`common/utils/`):

   - `dom.js`: `empty(el)`, `el(tag, attrs, children)`, `autosizeTextarea(ta)`.
   - `task-parsing.js`: `extractJiraKey()`, `extractDueDate()`, `fetchJiraIssue()`.

   **API** (`common/api/jira.js`):

   - `jiraRequest({ method, url, body, message })` ‚Äî –æ–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ `fetch`.

   **–•—Ä–∞–Ω–∏–ª–∏—â–µ** (`common/storage/index.js`):

   - `loadTasks()` –∏ `saveTasks()` ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è Tampermonkey-API.

3. **Dashboard –º–æ–¥—É–ª–∏ (pages/dashboard)**

   **Bootstrap** (`bootstrap.js`):

   - `setupGlobalMenuCloser()` ‚Äî –≥–ª–æ–±–∞–ª—å–Ω–æ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –≤—ã–ø–∞–¥–∞—é—â–∏–µ –º–µ–Ω—é.
   - `bootstrap(gadgetEl)` ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤–∏–¥–∂–µ—Ç–∞.
   - `main()` ‚Äî –∑–∞–ø—É—Å–∫ –æ–ø—Ä–æ—Å–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ UI.

   **–£—Ç–∏–ª–∏—Ç—ã** (`utils/poll.js`):

   - `pollForGadget()` ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≥–∞–¥–∂–µ—Ç–∞.

   **UI** (`ui/`):

   - `index.js`: `renderUI(root, tasks)` ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ç—É–¥—É-–ª–∏—Å—Ç–∞.
   - `item.js`: `renderItem(task)`, `startEditMode(row, task)` ‚Äî —Ä–µ–Ω–¥–µ—Ä –æ–¥–Ω–æ–π –∑–∞–¥–∞—á–∏.
   - `rerender.js`: `rerenderList(listEl, tasks)` ‚Äî –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∞ —Å–ø–∏—Å–∫–∞.
   - `header.js`: `updateHeaderCounts(tasks)` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–æ–≤.

   **Drag and Drop** (`dnd/index.js`):

   - `startDrag(element, event)` ‚Äî –Ω–∞—á–∞–ª–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è.
   - `persistOrderFromDom(listEl)` ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –∑–∞–¥–∞—á.

4. **Browse –º–æ–¥—É–ª–∏ (pages/browse)**

   **Entry point** (`index.js`):

   - `initJiraPageIntegration()` ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π –∑–∞–¥–∞—á–∏.

   **–§–æ—Ä–º–∞ –∑–∞–¥–∞—á–∏** (`task-form.js`):

   - `createTaskForm()` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —Ñ–æ—Ä–º—ã –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
   - `showTaskForm()` ‚Äî –ø–æ–∫–∞–∑ —Ñ–æ—Ä–º—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.

   **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏** (`task-display.js`):

   - `createTaskDisplay()` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –±–ª–æ–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–¥–∞—á–∏.
   - `refreshTaskDisplay()` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.

   **–ú–∞—Ä–∫–µ—Ä—ã** (`markers.js`):

   - `updatePageMarkers()` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ "üìå todo" –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–∞—Ö.
   - `startPageMarkerObserver()` ‚Äî –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ DOM.

5. **–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞**
   - `index.js` ‚Äî –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–∞—Ä—à—Ä—É—Ç –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –ª–æ–≥–∏–∫—É.

---

## –ü—Ä–∞–≤–∏–ª–∞ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

- –ö–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **—á–∏—Ç–∞–µ–º—ã–º —á–µ–ª–æ–≤–µ–∫–æ–º**, –±–µ–∑ —Å–∂–∞—Ç–∏—è –∏ –º–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏.
- –°–æ–±–ª—é–¥–∞—Ç—å **–µ–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å** –≤–æ –≤—Å–µ—Ö –±–ª–æ–∫–∞—Ö.
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—Å—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º** (`'use strict'`).

### –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ **—Ç–æ–ª—å–∫–æ –Ω–∞–¥ –±–ª–æ–∫–æ–º –∫–æ–¥–∞** (–Ω–µ —Å–±–æ–∫—É).
- –ö–∞–∂–¥—ã–π –ª–æ–≥–∏—á–µ—Å–∫–∏–π –±–ª–æ–∫ –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –∏–º–µ–µ—Ç **–∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–≤–µ—Ä—Ö—É**:
- –Ω–∞–∑–≤–∞–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–∞–º–æ–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É—é—â–∏–º–∏.

### –ë–ª–æ–∫–∏ `if`

- –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∏–≥—É—Ä–Ω—ã–µ —Å–∫–æ–±–∫–∏:

  ```js
  if (condition) {
    action();
  }
  ```

### –§—É–Ω–∫—Ü–∏–∏

- –ò–º–µ–Ω—É—é—Ç—Å—è –≥–ª–∞–≥–æ–ª–æ–º –≤ **camelCase**: `loadTasks`, `saveTasks`, `renderUI`.
- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏ —Å–ª–µ–¥—É—é—Ç –ø—Ä–∏–Ω—Ü–∏–ø—É **Single Responsibility**.
- –í–ª–æ–∂–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ (–ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã–º –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º).

### DOM‚Äë–º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏

- –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —É—Ç–∏–ª–∏—Ç—É `el()` –¥–ª—è —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏.
- –í `el()` –∞—Ç—Ä–∏–±—É—Ç `html` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —è–≤–Ω–æ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

### –õ–æ–≥–∏–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏:

  - –ü—Ä–∏ –∫–∞–∂–¥–æ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–∑–æ–≤ `loadTasks()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
  - –ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –∫–æ–Ω–µ—Ü —Å–ø–∏—Å–∫–∞.

- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏:

  - –í—Ö–æ–¥ –ø–æ –∫–ª–∏–∫—É –Ω–∞ —Ç–µ–∫—Å—Ç –∑–∞–¥–∞—á–∏.
  - Inline‚Äë—Ä–µ–∂–∏–º (`textarea` + –∫–Ω–æ–ø–∫–∏ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"/"–û—Ç–º–µ–Ω–∞"); –¥–µ–π—Å—Ç–≤–∏—è –≤—ã–≤–æ–¥—è—Ç—Å—è –ø–æ–¥ —Å—Ç—Ä–æ–∫–æ–π.
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ Jira issue key (–Ω–∞–ø—Ä–∏–º–µ—Ä, UI-5788) –≤ —Ç–µ–∫—Å—Ç–µ –∑–∞–¥–∞—á–∏.
  - –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—Ä–æ—Å –∫ Jira REST API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è summary.
  - –í–∞–ª–∏–¥–∞—Ü–∏—è: –ø—Ä–∏ –æ—à–∏–±–∫–µ API (–∑–∞–¥–∞—á–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞) ‚Äî –∫—Ä–∞—Å–Ω–∞—è —Ä–∞–º–∫–∞ –∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è.
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ Tampermonkey‚Äë—Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∏ –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∞.

- –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏:

  - –ß–µ—Ä–µ–∑ –±—É—Ä–≥–µ—Ä‚Äë–º–µ–Ω—é; –º–µ–Ω—é –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω—ã–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º –∫–ª–∏–∫–æ–≤ –≤–Ω–µ –º–µ–Ω—é.

- –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ:

  - –ö–∞—Å—Ç–æ–º–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è DnD –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è HTML5 Drag and Drop API.
  - –ü–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–æ–ª—å–∫–æ –∑–∞ ¬´—Ä—É—á–∫—É¬ª —Å–ª–µ–≤–∞; –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è DnD –æ—Ç–∫–ª—é—á–µ–Ω.
  - –ü—Ä–∏ –∑–∞—Ö–≤–∞—Ç–µ —ç–ª–µ–º–µ–Ω—Ç –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ –º–µ—Å—Ç–µ —Å opacity 0.3, –∞ —Ä—è–¥–æ–º —Å –∫—É—Ä—Å–æ—Ä–æ–º –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –∫–ª–æ–Ω.
  - –ú–µ–∂–¥—É –∑–∞–¥–∞—á–∞–º–∏ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è —Å–∏–Ω—è—è –ª–∏–Ω–∏—è-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –º–µ—Å—Ç–∞ –≤—Å—Ç–∞–≤–∫–∏.
  - –ü—Ä–∏ –æ—Ç–ø—É—Å–∫–∞–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –º–µ—Å—Ç–æ –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∞ –∏—Å—Ö–æ–¥–Ω—É—é –ø–æ–∑–∏—Ü–∏—é –ø—Ä–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–º –¥—Ä–æ–ø–µ.
  - –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ —Ç–µ–∫—É—â–µ–º—É DOM —á–µ—Ä–µ–∑ `persistOrderFromDom`.

- –ü–æ–¥—Å–∫–∞–∑–∫–∏:

  - –ü–æ–¥ —Ñ–æ—Ä–º–æ–π –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ –≥–æ—Ä—è—á–∏–º –∫–ª–∞–≤–∏—à–∞–º.

### –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏

- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ: `Enter`.
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: `Enter`.
- –ù–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ): `Shift + Enter`.
- –û—Ç–º–µ–Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: `Esc`.

### –í–µ—Ä—Å—Ç–∫–∞

- –°—Ç–∏–ª—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π (`style.*`), –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö CSS-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
- –í–∏–∑—É–∞–ª—å–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã: –º–∏–Ω–∏–º–∞–ª–∏–∑–º, —á–∏—Ç–∞–µ–º–æ—Å—Ç—å, –µ–¥–∏–Ω–∞—è —Ü–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞ (`#4a9ae9`, `#f3f3f3`, `#4caf50`).

---

## üß† –õ–æ–≥–∏–∫–∞ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**

- –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –≥–∞–¥–∂–µ—Ç–∞ `#gadget-20269-chrome`.
- –ü–æ—Å–ª–µ –ø–æ—è–≤–ª–µ–Ω–∏—è ‚Äî –≤—ã–ø–æ–ª–Ω—è–µ—Ç `bootstrap()`.

2. **–û—Ç—Ä–∏—Å–æ–≤–∫–∞**

- –ó–∞–º–µ–Ω—è–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –≥–∞–¥–∂–µ—Ç–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º wrapper‚Äë–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º; –¥–æ–±–∞–≤–ª—è–µ—Ç —Ñ–æ—Ä–º—É, —Å–ø–∏—Å–æ–∫ –∏ –¥–µ–º–æ‚Äë–ø–∞–Ω–µ–ª—å API.

3. **–†–∞–±–æ—Ç–∞ —Å–ø–∏—Å–∫–∞**

- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á.
- –ß–µ–∫–±–æ–∫—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
- Inline-—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞.
- –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è.

4. **–•—Ä–∞–Ω–µ–Ω–∏–µ**

- –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `GM_setValue(STORAGE_KEY, JSON.stringify(tasks))`.
- –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ ‚Äî `GM_getValue(STORAGE_KEY, '[]')` —Å –±–µ–∑–æ–ø–∞—Å–Ω—ã–º `JSON.parse` –∏ fallback –Ω–∞ `[]`.
- –ü–æ—Ä—è–¥–æ–∫ –∑–∞–¥–∞—á —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–æ—Ä—è–¥–∫—É —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ DOM –∏ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ DnD.
- –§–æ—Ä–º–∞—Ç —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è Jira (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
  ```json
  {
    "id": 1731252321,
    "text": "–ó–∞–¥–∞—á–∞",
    "done": false,
    "createdAt": 1731252321,
    "jiraKey": "UI-5788",
    "jiraSummary": "–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ —Å–≤—è–∑–∏ —Å —É–≤–µ–ª–∏—á–µ–Ω–∏–µ–º –ù–î–°",
    "jiraUrl": "https://jira.theteamsoft.com/browse/UI-5788"
  }
  ```
- –î–µ–º–æ‚Äë–ø–∞–Ω–µ–ª—å API –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ Jira –¥–ª—è –ø—Ä–∏–º–µ—Ä–æ–≤/–æ—Ç–ª–∞–¥–∫–∏ –∏ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–¥–∞—á.

---

## üß© –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑–≤–∏—Ç–∏—è –ø—Ä–æ–µ–∫—Ç–∞

1. **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É**

- –ù–µ —Å–º–µ—à–∏–≤–∞—Ç—å –ª–æ–≥–∏–∫—É —Ä–µ–Ω–¥–µ—Ä–∞, –¥–∞–Ω–Ω—ã—Ö –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –æ–¥–Ω–æ–º –±–ª–æ–∫–µ.
- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∞—Ç–æ–º–∞—Ä–Ω—ã–º–∏ –∏ –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ –µ–¥–∏–Ω–æ–º —Å—Ç–∏–ª–µ

2. **–†–∞–±–æ—Ç–∞ —Å Tampermonkey API**

- –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `GM_getValue` / `GM_setValue`.
- –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `localStorage`, —á—Ç–æ–±—ã –¥–∞–Ω–Ω—ã–µ –Ω–µ —Ç–µ—Ä—è–ª–∏—Å—å –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏.

3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π JIRA**

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å –∞—Ç—Ä–∏–±—É—Ç–æ–º `data-issuekey`.
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—É–∑–∞–º–µ—Ç–Ω–æ–≥–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ "üìå todo" –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å –∑–∞–¥–∞—á–∞ –≤ —Ç—É–¥—É-–ª–∏—Å—Ç–µ.
- MutationObserver –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã.
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏ –ø—Ä–∏ –ª—é–±—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –∑–∞–¥–∞—á (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ).

5. **–ë—É–¥—É—â–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ**

- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á (–≤—Å–µ / –∞–∫—Ç–∏–≤–Ω—ã–µ / –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ).
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞/—Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ –ø–æ issue‚Äëkey.
- –û—Å–ª–∞–±–ª–µ–Ω–∏–µ –∂—ë—Å—Ç–∫–æ–π –ø—Ä–∏–≤—è–∑–∫–∏ –∫ `numberId` —á–µ—Ä–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ Jira API –æ—Ç–≤–µ—Ç–æ–≤ –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏.

---

## üîå API

- –û–±–µ—Ä—Ç–∫–∞ `jiraRequest`:

  - –î–æ–±–∞–≤–ª—è–µ—Ç `credentials: 'include'`, –ª–æ–≥–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç, –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–∞—Ä—Å–∏—Ç JSON; –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `null` –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö.
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Jira‚ÄëREST –Ω–∞ —Ç–æ–º –∂–µ –¥–æ–º–µ–Ω–µ.

- –î–µ–º–æ‚Äë–ø–∞–Ω–µ–ª—å API –≤ UI:
  - ¬´API: –ú–æ–∏ –∑–∞–¥–∞—á–∏¬ª ‚Äî POST `/rest/api/2/search` —Å JQL `assignee = currentUser()`.
  - ¬´API: ServerInfo¬ª ‚Äî GET `/rest/api/2/serverInfo`.
  - –ö–Ω–æ–ø–∫–∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è –ø—Ä–∏–º–µ—Ä–æ–≤/–æ—Ç–ª–∞–¥–∫–∏ –∏ –Ω–µ –º–µ–Ω—è—é—Ç –ª–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ To‚ÄëDo.

–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

- –ù–µ —Å–º–µ—à–∏–≤–∞—Ç—å —Å–µ—Ç–µ–≤—É—é –ª–æ–≥–∏–∫—É —Å –±–∞–∑–æ–≤—ã–º CRUD‚Äë–ø–æ—Ç–æ–∫–æ–º To‚ÄëDo.
- –ù–æ–≤—ã–µ –≤—ã–∑–æ–≤—ã –æ—Ñ–æ—Ä–º–ª—è—Ç—å —á–µ—Ä–µ–∑ `jiraRequest` –∏ –≤—ã–Ω–æ—Å–∏—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏/–∫–Ω–æ–ø–∫–∏.

---

## üîñ –í–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç—å

|  –í–µ—Ä—Å–∏—è   | –ò–∑–º–µ–Ω–µ–Ω–∏—è                                                                                                                                                                                                                              |
| :-------: | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|  **0.1**  | –ë–∞–∑–æ–≤—ã–π –∫–∞—Ä–∫–∞—Å, smoke-—Ç–µ—Å—Ç, –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞                                                                                                                                                                                       |
|  **0.2**  | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω todo-–ª–∏—Å—Ç —Å Tampermonkey-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º                                                                                                                                                                                         |
| **0.2.1** | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á (–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞ –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏–µ)                                                                                                                                                                      |
| **0.2.2** | –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏                                                                                                                                                                                            |
| **0.2.3** | –ö–Ω–æ–ø–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ —ç–º–æ–¥–∑–∏; —É–¥–∞–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ –≤ –±—É—Ä–≥–µ—Ä‚Äë–º–µ–Ω—é                                                                                                                                                            |
| **0.2.4** | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–∫—Ä—ã—Ç–∏–µ –∫–Ω–æ–ø–æ–∫ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å/–û—Ç–º–µ–Ω–∞ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏                                                                                                                                                                          |
| **0.2.5** | –ü—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–Ω–æ–ø–∫–∏ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –£–¥–∞–ª–∏—Ç—å –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –ø–æ–¥ —Å—Ç—Ä–æ–∫—É                                                                                                                                                                    |
| **0.3.0** | –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á –∑–∞ —Ä—É—á–∫—É; inline‚Äë—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –∫–ª–∏–∫—É; –±—É—Ä–≥–µ—Ä‚Äë–º–µ–Ω—é —É–¥–∞–ª–µ–Ω–∏—è + –≥–ª–æ–±–∞–ª—å–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ; –∞–≤—Ç–æ—Å–∞–π–∑–∏–Ω–≥ `textarea`; Jira‚Äë—Å—Å—ã–ª–∫–∞ –ø–æ–¥ –∑–∞–¥–∞—á–µ–π (URL/Markdown) —Å –æ–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã–º –ø—Ä–µ–≤—å—é; –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏; –¥–µ–º–æ‚Äë–ø–∞–Ω–µ–ª—å Jira API |
|           | **0.3.1**                                                                                                                                                                                                                              | –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ DnD: –∫–∞—Å—Ç–æ–º–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –∫–ª–æ–Ω–æ–º —ç–ª–µ–º–µ–Ω—Ç–∞, –ª–∏–Ω–∏–µ–π-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º –º–µ—Å—Ç–∞ –≤—Å—Ç–∞–≤–∫–∏ –∏ –≤–æ–∑–≤—Ä–∞—Ç–æ–º –Ω–∞ –∏—Å—Ö–æ–¥–Ω—É—é –ø–æ–∑–∏—Ü–∏—é –ø—Ä–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–º –¥—Ä–æ–ø–µ                                                                                |
|           | **0.3.2**                                                                                                                                                                                                                              | –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫ –≤ —Ç–µ–∫—Å—Ç–µ –∑–∞–¥–∞—á (–¥–æ–±–∞–≤–ª–µ–Ω CSS white-space: pre-wrap)                                                                                                                                                |
|           | **0.3.3**                                                                                                                                                                                                                              | –ò–∑–º–µ–Ω–µ–Ω—ã –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏: Enter ‚Äî –¥–æ–±–∞–≤–∏—Ç—å/—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å, Shift+Enter ‚Äî –Ω–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞, Esc ‚Äî –æ—Ç–º–µ–Ω–∏—Ç—å                                                                                                                              |
|           | **0.4.0**                                                                                                                                                                                                                              | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ Jira issue key –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ API; –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å –≤–∏–∑—É–∞–ª—å–Ω–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑—å—é; —Ñ–æ—Ä–º–∞—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è "KEY \| Summary" —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º 30 —Å–∏–º–≤–æ–ª–æ–≤; —É–¥–∞–ª–µ–Ω–∞ —Ä—É—á–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤–≤–æ–¥–∞ Jira-—Å—Å—ã–ª–æ–∫         |
|           | **0.5.0**                                                                                                                                                                                                                              | –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π JIRA: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å `data-issuekey` –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º "üìå todo" –µ—Å–ª–∏ –Ω–∞ –Ω–∏—Ö –µ—Å—Ç—å –∑–∞–¥–∞—á–∞ –≤ —Ç—É–¥—É-–ª–∏—Å—Ç–µ; MutationObserver –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ |

---

## üß≠ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –¥–ª—è –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫–æ–≤

1. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π **—Å—Ç–∏–ª—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤**.
2. –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç:
3. –ù–æ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã ‚Äî –±–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤, —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏—á–Ω—ã–µ –∏–º–µ–Ω–∞.
4. –í—Å–µ –ø—Ä–∞–≤–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∏ –æ–ø–∏—Å–∞–Ω—ã –≤ changelog-—Å—Ç–∏–ª–µ**.
5. –ü—Ä–∏ —Å–æ–º–Ω–µ–Ω–∏–∏ ‚Äî **—Å–æ—Ö—Ä–∞–Ω—è—Ç—å —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤—ã—à–µ –∫—Ä–∞—Ç–∫–æ—Å—Ç–∏**.
6. –õ—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ UI –¥–æ–ª–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –¥–∞–Ω–Ω—ã—Ö –≤ `GM_getValue`.
7. –î–æ–ø–æ–ª–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –≤ —Å–ª—É—á–∞–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –∏ –ø—Ä–æ—á–µ–≥–æ.
8. –û—Ç–≤–µ—á–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:

- –°–æ—Ö—Ä–∞–Ω—è—Ç—å –º–æ–¥—É–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É: `common/` –¥–ª—è –æ–±—â–µ–π –ª–æ–≥–∏–∫–∏, `pages/dashboard/` –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞, `pages/browse/` –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∑–∞–¥–∞—á–∏.
- –ù–æ–≤—ã–µ —Å–µ—Ç–µ–≤—ã–µ –≤—ã–∑–æ–≤—ã ‚Äî —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `jiraRequest` –∏–∑ `common/api/jira.js` —Å —Ç–µ–º–∏ –∂–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è.
- –û–±–Ω–æ–≤–ª—è—Ç—å —Å–µ–ª–µ–∫—Ç–æ—Ä—ã/`numberId` –∞–∫–∫—É—Ä–∞—Ç–Ω–æ: –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Äî `#gadget-<numberId>-chrome`, –∑–∞–≥–æ–ª–æ–≤–æ–∫ ‚Äî `#gadget-<numberId>-title`, –∫–æ–Ω—Ç–µ–Ω—Ç ‚Äî `.dashboard-item-content`.
- –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –æ–Ω–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ–π –¥–ª—è dashboard/browse –∏–ª–∏ –æ–±—â–µ–π, –∏ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –ø–∞–ø–∫–µ.

---

## üß± –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª–µ–π (ESM) –∏ —Å–±–æ—Ä–∫–∞

### –û–±—â–∏–µ –º–æ–¥—É–ª–∏ (common)

–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è –æ–±–µ–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü:

- `src/common/constants.js` ‚Äî –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (—Å–µ–ª–µ–∫—Ç–æ—Ä—ã, –∫–ª—é—á–∏, –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã).
- `src/common/utils/dom.js` ‚Äî `el`, `empty`, `autosizeTextarea`.
- `src/common/utils/task-parsing.js` ‚Äî `extractJiraKey`, `extractDueDate`, `fetchJiraIssue`.
- `src/common/api/jira.js` ‚Äî `jiraRequest`.
- `src/common/storage/index.js` ‚Äî `loadTasks`, `saveTasks`.

### Dashboard –º–æ–¥—É–ª–∏ (pages/dashboard)

–°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã dashboard (`/secure/*`):

- `src/pages/dashboard/bootstrap.js` ‚Äî `setupGlobalMenuCloser`, `bootstrap`, `main` ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤–∏–¥–∂–µ—Ç–∞ —Ç—É–¥—É-–ª–∏—Å—Ç–∞.
- `src/pages/dashboard/utils/poll.js` ‚Äî `pollForGadget` ‚Äî –ø–æ–∏—Å–∫ –≥–∞–¥–∂–µ—Ç–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.
- `src/pages/dashboard/dnd/index.js` ‚Äî `startDrag`, `persistOrderFromDom` ‚Äî drag and drop —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å.
- `src/pages/dashboard/ui/header.js` ‚Äî `updateHeaderCounts` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–æ–≤ –∑–∞–¥–∞—á.
- `src/pages/dashboard/ui/rerender.js` ‚Äî `rerenderList(listEl, tasks, renderItem)`.
- `src/pages/dashboard/ui/item.js` ‚Äî `renderItem`, `startEditMode` ‚Äî —Ä–µ–Ω–¥–µ—Ä –æ–¥–Ω–æ–π –∑–∞–¥–∞—á–∏.
- `src/pages/dashboard/ui/index.js` ‚Äî `renderUI` ‚Äî –≥–ª–∞–≤–Ω—ã–π UI —Ç—É–¥—É-–ª–∏—Å—Ç–∞ (—Ñ–æ—Ä–º–∞, —Å–ø–∏—Å–æ–∫, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞).

### Browse –º–æ–¥—É–ª–∏ (pages/browse)

–°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∑–∞–¥–∞—á–∏ (`/browse/*`):

- `src/pages/browse/index.js` ‚Äî `initJiraPageIntegration` ‚Äî entry point –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π –∑–∞–¥–∞—á–∏.
- `src/pages/browse/task-form.js` ‚Äî `createTaskForm`, `showTaskForm` ‚Äî —Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞—á–∏.
- `src/pages/browse/task-display.js` ‚Äî `createTaskDisplay`, `refreshTaskDisplay` ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.
- `src/pages/browse/markers.js` ‚Äî `updatePageMarkers`, `startPageMarkerObserver` ‚Äî –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å `data-issuekey` –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º "üìå todo".

### Entry point

- `src/index.js` ‚Äî –≥–ª–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–∞—Ä—à—Ä—É—Ç (dashboard –∏–ª–∏ browse) –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –ª–æ–≥–∏–∫—É.

### –°–±–æ—Ä–∫–∞ (esbuild)

- `scripts/header.txt` ‚Äî –±–∞–Ω–Ω–µ—Ä —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ Tampermonkey (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–µ—Ä–≤—ã–º –≤ –∏—Ç–æ–≥–æ–≤–æ–º —Ñ–∞–π–ª–µ).
- `scripts/build.mjs` ‚Äî —Å–±–æ—Ä–∫–∞ –≤ —Ñ–æ—Ä–º–∞—Ç IIFE —Å –±–∞–Ω–Ω–µ—Ä–æ–º, sourcemap inline.
- –°–∫—Ä–∏–ø—Ç—ã npm:
  - `npm run build` ‚Äî —Å–æ–±—Ä–∞—Ç—å –≤ `dist/jira-mini-tasks.user.js`
  - `npm run dev` ‚Äî —Ä–µ–∂–∏–º –Ω–∞–±–ª—é–¥–µ–Ω–∏—è
